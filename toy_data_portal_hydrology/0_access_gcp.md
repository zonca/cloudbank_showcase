# 0 - Access CloudBank and Google Cloud Console

Goal: sign in through CloudBank (using the CloudBank-provided Google account) and land in the Google Cloud Console so we can create a small GKE cluster (1 control plane, 1 worker node).

## Prerequisites
- CloudBank will create the Google account for you automatically.
- A desktop browser. On Chromebooks, open an Incognito window first to ensure you use the CloudBank-generated Google account.

## Login to the Google Cloud Console
1) Open the login page: https://www.cloudbank.org/billing-account-access (Incognito if on Chromebook).
2) In the table under **Public Cloud Web Console Login**, click the **Login** button in the **Google Cloud Platform** row.
3) When prompted, continue with the Google account generated by CloudBank (no need to supply your own).
4) You should land in the Google Cloud Console for your assigned project. In the top bar, note the active project name/ID; we will need it for GKE.
5) Confirm console access by opening `Navigation menu ▸ Kubernetes Engine ▸ Clusters`. You do not need to create anything yet—just verify the page loads without permission errors.

## Create the small GKE cluster
1) On the `Kubernetes Engine ▸ Clusters` page, click the **ENABLE** button to turn on the Kubernetes Engine API. Wait until the page refreshes.
2) Click **CREATE** and stay with **Autopilot** (recommended for simplicity and guardrails). If you prefer full control over node sizes and costs, click **Switch to Standard cluster** instead.
3) **Cluster basics (Autopilot)**:
   - Name: `toy-hydro-cluster` (or another short name).
   - Location type: **Zonal**. Pick a zone close to you (e.g., `us-west1`).
4) Leave everything else at defaults and click **Create**.
5) Wait for the cluster status to become **Running** (this can take about 5 minutes). Autopilot handles control plane and worker sizing automatically (roughly one control plane and minimal worker capacity).

## Next: Connect with Cloud Shell
After the cluster is Running, open Cloud Shell by clicking the terminal icon at the very top of the screen labeled **Activate Cloud Shell** (do not use the “Connect” button inside the cluster dashboard). Then run:
```bash
gcloud container clusters get-credentials toy-hydro-cluster --region us-west1
```
Replace the cluster name/region if you used different values.

Tip: Cloud Shell includes the Gemini assistant; you can ask it to run `gcloud` and `kubectl` commands on your behalf and parse their output to diagnose problems.

## Verify the cluster with a sample workload
Run these in Cloud Shell to force a node to spin up and confirm scheduling:
```bash
kubectl create deployment hello-autopilot --image=gcr.io/google-samples/hello-app:1.0 --replicas=1
kubectl get pods -w
```
Wait until the pod is `Running` (Autopilot may take a couple of minutes to bring up a node). Then in the same shell:
```bash
kubectl get nodes
```
You should now see a node in `Ready` state:
```
NAME                                         STATUS   ROLES    AGE   VERSION
gk3-toy-hydro-cluster-pool-1-da2ea5bf-kcd6   Ready    <none>   5s    v1.33.5-gke.1308000
```